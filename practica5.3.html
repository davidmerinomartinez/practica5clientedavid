<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    

    input:invalid {
        border: 2px solid red;
    }

    input:valid {
        border: 2px solid greenyellow;
    }

    #submit{margin-bottom: 20px;
    margin-left:auto;
    margin-right:auto;
    }

    #principal {
        background-color: rgb(35, 224, 193);
        margin: auto;
        width: 50%;
        height: 50%;
        border-radius:30px;
        
    }



    #mensaje {
        color: red;
        font-size: large;
        font-weight: bold
    }

    #mensaje2 {
        color: red;
        font-size: large;
        font-weight: bold;
    }

    img {
        width: 15%;
        height: 15%
    }

    h1 {
        text-align: center
    }

    form {
        margin: 15px;
    }
</style>

<body>

    <div id="principal">
        <!--  <form action="formulario2.php" name="form1" method=" " id="test_form" autocomplete="on"
          onsubmit=" return validateForm()">-->
        <form action="formulario2.php" name="form1" method=" " id="test_form" autocomplete="on"
            onclick="addEventListener('keyup', validateForm)">
            <div>
                <br>
                <h1>Formulario practica</h1>
                <input type="text" name="nombre" id="nombre" placeholder="intro nombre" required maxlength="20"
                    minlength="1">

                <input type="text" id="apellidos" placeholder="intro apellidos">
            </div>
            <br>
            <div>
                <input type="number" id="telefono" title="aqui tu telefono" placeholder="telefono" max="799999999"
                    min="600000000">
            </div>
            <br>
            <div>
                <input type="email" id="email" title="aqui tu correo" placeholder="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            </div>
            <br>
            <div>
                <label for="fecha">Fecha nacimiento:</label>

                <input type="date" id="fecha" name="fecha" value="2022-02-08" min="1940-01-01" max="2022-02-08">
            </div>
            <br>


            <label for="deacuerdo"> Estas de acuerdo?</label>

            <input type="checkbox" id="deacuerdo">
            <br>

            <label for="equipo"> Quien quieres que gane la copa?</label>
            <select id="equipo" name="equipos">


                <option value="betis">Betis</option>
                <option value="Valencia">Valencia</option>
                <option value="Bilbao">Bilbao</option>
                <option value="Mallorca">Mallorca</option>
            </select>

            <br>
            <label for="goles"> Por cuantos goles ganará el betis?</label>
            <input type="text" id="goles" placeholder="goles del betis" pattern="[1-9]{1} " min="0">
            <br>

            <div>
                <p>Elige un color</p>
                <input type="radio" id="radio1" name="elradio" value="rojo">
                <label for="radio1">Rojo</label>
            </div>
            <br>
            <div>
                <input type="radio" id="radio" name="elradio" value="verde">
                <label for="radio2">Verde</label>
            </div>
            <br>
            <div>
                <input type="radio" id="radio" name="elradio" value="amarillo">
                <label for="radio3">Amarillo</label>
            </div>
            <br>
            <div>
                <label for="areatexto">Escribe numeros aqui:</label>

                <textarea id="areatexto" name="textoarea" rows="1" cols="10">

            </textarea>

                <p id="mensaje"></p>
                <p id="mensaje2"></p>
                <div id="losgoles"></div>

            </div>
            <br>

            <input type="submit" id="submit" value="Submit">
            <br>


        </form>
    </div>
    </div>
    <script>

        //pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
        //duda https://www.w3schools.com/js/js_validation_api.asp

        //https://www.w3schools.com/js/js_validation.asp
        //https://www.w3schools.com/html/html_forms_attributes.asp
        //https://www.w3schools.com/tags/att_input_disabled.asp#:~:text=The%20disabled%20attribute%20can%20be,form%20will%20not%20be%20submitted!
        //https://www.w3schools.com/jsref/jsref_obj_regexp.asp




//color verde claro validacion positiva html 
//color verde oscuro validacion positiva js 
//color rojo validacion negativa html 
//color naranja validacion negativa js

        const email = document.getElementById("email");

        email.addEventListener("input", function (event) {
            if (email.validity.typeMismatch) {
                email.setCustomValidity("¡Esto esta xungo!");
            } else {
                email.setCustomValidity("");
            }
        });


        function validateForm() {
            goles = document.forms[0].goles.value;
            nombre = document.forms[0].nombre.value;
            equipos = document.forms[0].equipos.value;
            textoarea = document.forms[0].textoarea.value;
            fecha = document.forms[0].fecha.value;
            telefono = document.forms[0].telefono.value;








            resultado = true;

            if (goles < 1) {
                //if (goles.validity()==true) {
                //alert("el betis tiene que marca");
                document.getElementById("goles").style.borderColor = "orange";
                resultado = false;
            }

            else {
                //  alert("Musho Beti");
                document.getElementById("goles").style.borderColor = "green";
                document.getElementById("losgoles").innerHTML = "<img src='https://4.bp.blogspot.com/-N3ezW4S5OBc/UTxT-gp88pI/AAAAAAAAFV4/uauXvM9ifeY/s1600/escudo+Real+Betis+2012.png'>";


                resultado = true;
            }

            if ((telefono.length = !9) || (telefono > 799999999 || telefono < 600000000)) {
                document.getElementById("mensaje2").innerHTML = "El teléfono no es correcto";
                document.getElementById("telefono").style.borderColor = "orange";
                resultado = false;
            }

            else {
                document.getElementById("mensaje2").innerHTML = "Ahora el telefono es correcto";
                document.getElementById("telefono").style.borderColor = "green";
                mensaje2.style.color = "green";

                resultado = true;
            }

            if ((nombre == "") || nombre.length > 20) {
                // alert("rellena el campo nombre ");
                document.getElementById("mensaje").innerHTML = "Rellena el campo nombre";
                document.getElementById("nombre").style.borderColor = "orange";
                resultado = false;


            }

            else {
                document.getElementById("mensaje").innerHTML = "Ahora el nombre es correcto";
                document.getElementById("nombre").style.borderColor = "green";
                resultado = true;
                mensaje.style.color = "green";
            }


            //  if(!/^\d$/test(z))              //  \d son digitos
            if (isNaN(textoarea)) {

                alert("en este campo solo numeros");

                resultado = false;

                if (resultado == false) {
                    document.getElementById("areatexto").style.borderColor = "orange";
                };
            };


            fechavalida = Date.parse('2022-02-08');
            if (isNaN(fechavalida)) {
                alert("la fecha introducida no es permitida");
                resultado = false;
                document.getElementById("fecha").style.borderColor = "orange";


            }









            return resultado;

        }

        //crear evento para que cuando un campo de false con htmlcss nos de un mensaje personalizado
        //  document.getElementById("areatexto").onkeypress(funcionvalida())
        //   document.getElementById("areatexto").validity;
        //   document.getElementById("areatexto").setCustomValidity ("esto ta mal")



    </script>
</body>



</html>